> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [blog.csdn.net](https://blog.csdn.net/BQAIT/article/details/156330905?spm=1001.2014.3001.5506)

### Â ä¸€ã€é¡¹ç›®ä»‹ç»

æœ¬æ–‡åŸºäº YOLOv11 [æ·±åº¦å­¦ä¹ æ¡†æ¶](https://so.csdn.net/so/search?q=%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E6%A1%86%E6%9E%B6&spm=1001.2101.3001.7020)ï¼Œè®¾è®¡å¹¶å®ç°äº†ä¸€ç§é«˜æ•ˆçš„æ°´æœåˆ†ç±»è¯†åˆ«æ£€æµ‹ç³»ç»Ÿï¼Œæ”¯æŒ 6 ç±»æ°´æœçš„ç²¾å‡†æ£€æµ‹ï¼ŒåŒ…æ‹¬é‡‘å† è‹¹æœï¼ˆgolden deliciousï¼‰ã€æ¾³æ´²é’è‹¹æœï¼ˆgranny smithï¼‰ã€æ¢¨ï¼ˆpearï¼‰ã€çº¢è›‡æœï¼ˆred deliciousï¼‰ã€çº¢æ²¹æ¡ƒï¼ˆred nectarineï¼‰åŠé»„æ¡ƒï¼ˆyellow peachï¼‰ã€‚ç³»ç»Ÿé‡‡ç”¨ YOLOv11 ç®—æ³•ï¼Œç»“åˆåŒ…å« 5,481 å¼ è®­ç»ƒå›¾åƒå’Œ 263 å¼ éªŒè¯å›¾åƒçš„è‡ªå®šä¹‰æ•°æ®é›†è¿›è¡Œæ¨¡å‹è®­ç»ƒï¼Œå®ç°äº†é«˜å‡†ç¡®ç‡çš„ç›®æ ‡æ£€æµ‹ä¸åˆ†ç±»ã€‚æ­¤å¤–ï¼Œç³»ç»Ÿé›†æˆç”¨æˆ·å‹å¥½çš„ UI ç•Œé¢ï¼Œå¹¶é…å¤‡ç™»å½•æ³¨å†ŒåŠŸèƒ½ï¼Œæå‡äº†äº¤äº’ä½“éªŒä¸æ•°æ®å®‰å…¨æ€§ã€‚å®éªŒç»“æœè¡¨æ˜ï¼Œè¯¥ç³»ç»Ÿåœ¨å¤æ‚åœºæ™¯ä¸‹å…·æœ‰è‰¯å¥½çš„é²æ£’æ€§å’Œå®æ—¶æ€§ï¼Œå¯åº”ç”¨äºå†œä¸šè‡ªåŠ¨åŒ–ã€æ™ºèƒ½é›¶å”®ç­‰åœºæ™¯ã€‚

**å¼•è¨€**  
éšç€è®¡ç®—æœºè§†è§‰æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼ŒåŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡æ£€æµ‹ç®—æ³•åœ¨å†œä¸šè‡ªåŠ¨åŒ–ã€é£Ÿå“è´¨æ£€ç­‰é¢†åŸŸå±•ç°å‡ºå¹¿æ³›åº”ç”¨å‰æ™¯ã€‚æ°´æœåˆ†ç±»è¯†åˆ«ä½œä¸ºå…¶ä¸­çš„å…¸å‹ä»»åŠ¡ï¼Œå¯¹æå‡åˆ†æ‹£æ•ˆç‡ã€å‡å°‘äººå·¥æˆæœ¬å…·æœ‰é‡è¦æ„ä¹‰ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿæ–¹æ³•å—é™äºå…‰ç…§ã€é®æŒ¡åŠæœå®å½¢æ€å¤šæ ·æ€§ç­‰é—®é¢˜ï¼Œæ£€æµ‹ç²¾åº¦ä¸æ³›åŒ–èƒ½åŠ›ä¸è¶³ã€‚YOLOv11 ä½œä¸º YOLO ç³»åˆ—çš„æœ€æ–°æ”¹è¿›æ¨¡å‹ï¼Œåœ¨æ£€æµ‹é€Ÿåº¦ä¸ç²¾åº¦ä¸Šå–å¾—äº†è¿›ä¸€æ­¥å¹³è¡¡ï¼Œä¸ºå¤æ‚åœºæ™¯ä¸‹çš„æ°´æœè¯†åˆ«æä¾›äº†æ–°æ€è·¯ã€‚

æœ¬æ–‡åŸºäº YOLOv11 æ„å»ºäº†ä¸€å¥—ç«¯åˆ°ç«¯çš„æ°´æœåˆ†ç±»æ£€æµ‹ç³»ç»Ÿï¼Œé’ˆå¯¹ 6 ç±»å¸¸è§æ°´æœè¿›è¡Œä¼˜åŒ–è®­ç»ƒã€‚æ•°æ®é›†åŒ…å« 5,481 å¼ è®­ç»ƒå›¾åƒä¸ 263 å¼ éªŒè¯å›¾åƒï¼Œè¦†ç›–å¤šè§’åº¦ã€å¤šèƒŒæ™¯çš„æœå®æ ·æœ¬ã€‚ç³»ç»Ÿç»“åˆ PyQt ç­‰æ¡†æ¶å¼€å‘äº†å¯è§†åŒ– UI ç•Œé¢ï¼Œé›†æˆç”¨æˆ·ç™»å½•æ³¨å†Œæ¨¡å—ï¼Œç¡®ä¿æ•°æ®ç®¡ç†çš„å®‰å…¨æ€§ä¸ä¾¿æ·æ€§ã€‚å®éªŒéªŒè¯è¡¨æ˜ï¼Œè¯¥ç³»ç»Ÿåœ¨æµ‹è¯•é›†ä¸Šå®ç°äº† 0.988 çš„ mAPï¼ˆå¹³å‡ç²¾åº¦ï¼‰ï¼ŒåŒæ—¶æ»¡è¶³å®æ—¶æ€§éœ€æ±‚ã€‚æœ¬ç ”ç©¶ä¸ºå†œä¸šæ™ºèƒ½åŒ–åº”ç”¨æä¾›äº†å¯è¡Œçš„æŠ€æœ¯æ–¹æ¡ˆï¼Œå¹¶ä¸º YOLOv11 åœ¨ç»†ç²’åº¦ç›®æ ‡æ£€æµ‹ä¸­çš„æ€§èƒ½ä¼˜åŒ–æä¾›äº†å®è·µå‚è€ƒã€‚

**ç›®å½•**

 [ä¸€ã€é¡¹ç›®ä»‹ç»](#t1)

[äºŒã€é¡¹ç›®åŠŸèƒ½å±•ç¤º](#t2)

[2.1 ç”¨æˆ·ç™»å½•ç³»ç»Ÿ](#t3)

[2.2 æ£€æµ‹åŠŸèƒ½](#t4)

[2.3 æ£€æµ‹ç»“æœæ˜¾ç¤º](#t5)

[2.4 å‚æ•°é…ç½®](#t6)

[2.5 å…¶ä»–åŠŸèƒ½](#t7)

[3. æŠ€æœ¯ç‰¹ç‚¹](#t8)

[4. ç³»ç»Ÿæµç¨‹](#t9)

[ä¸‰ã€æ•°æ®é›†ä»‹ç»](#t10)

[1. æ•°æ®é›†ç»„æˆ](#t11)

[æ•°æ®é›†é…ç½®æ–‡ä»¶](#t12)

[å››ã€é¡¹ç›®ç¯å¢ƒé…ç½®](#t13)

[åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ](#t14)

[å®‰è£…æ‰€éœ€è¦åº“](#t15)

[äº”ã€æ¨¡å‹è®­ç»ƒ](#t16)

[è®­ç»ƒä»£ç ](#t17)

[è®­ç»ƒç»“æœ](#t18)

[å…­ã€æ ¸å¿ƒä»£ç ](#t19)

[ğŸ”ç™»å½•æ³¨å†ŒéªŒè¯](#t20)

[ğŸ¯Â å¤šé‡æ£€æµ‹æ¨¡å¼](#t21)

[ğŸ–¼ï¸Â æ²‰æµ¸å¼å¯è§†åŒ–](#t22)

[âš™ï¸Â å‚æ•°é…ç½®ç³»ç»Ÿ](#t23)

[âœ¨Â UI ç¾å­¦è®¾è®¡](#t24)

[ğŸ”„Â æ™ºèƒ½å·¥ä½œæµ](#t25)

[ä¸ƒã€é¡¹ç›®æºç ï¼ˆè§†é¢‘ç®€ä»‹ï¼‰](#t26)

[åŸºäºæ·±åº¦å­¦ä¹  YOLOv11 çš„æ°´æœåˆ†ç±»è¯†åˆ«æ£€æµ‹ç³»ç»Ÿï¼ˆYOLOv11+YOLO æ•°æ®é›† + UI ç•Œé¢ + ç™»å½•æ³¨å†Œç•Œé¢ + Python é¡¹ç›®æºç  + æ¨¡å‹ï¼‰_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1c8bzzME6D?spm_id_from=333.788.videopod.sections&vd_source=549d0b4e2b8999929a61a037fcce3b0f "åŸºäºæ·±åº¦å­¦ä¹ YOLOv11çš„æ°´æœåˆ†ç±»è¯†åˆ«æ£€æµ‹ç³»ç»Ÿï¼ˆYOLOv11+YOLOæ•°æ®é›†+UIç•Œé¢+ç™»å½•æ³¨å†Œç•Œé¢+Pythoné¡¹ç›®æºç +æ¨¡å‹ï¼‰_å“”å“©å“”å“©_bilibili")

åŸºäºæ·±åº¦å­¦ä¹  YOLOv11 çš„æ°´æœåˆ†ç±»è¯†åˆ«æ£€æµ‹ç³»ç»Ÿï¼ˆYOLOv11+YOLO æ•°æ®é›† + UI ç•Œé¢ + ç™»å½•æ³¨å†Œç•Œé¢ + Python é¡¹ç›®æºç  + æ¨¡å‹ï¼‰

### äºŒã€é¡¹ç›®åŠŸèƒ½å±•ç¤º

âœ…Â ç”¨æˆ·ç™»å½•æ³¨å†Œï¼šæ”¯æŒå¯†ç æ£€æµ‹å’Œå®‰å…¨æ€§éªŒè¯ã€‚

âœ…Â ä¸‰ç§æ£€æµ‹æ¨¡å¼ï¼šåŸºäº YOLOv11 æ¨¡å‹ï¼Œæ”¯æŒå›¾ç‰‡ã€è§†é¢‘å’Œå®æ—¶æ‘„åƒå¤´ä¸‰ç§æ£€æµ‹ï¼Œç²¾å‡†è¯†åˆ«ç›®æ ‡ã€‚

âœ…Â åŒç”»é¢å¯¹æ¯”ï¼šåŒå±æ˜¾ç¤ºåŸå§‹ç”»é¢ä¸æ£€æµ‹ç»“æœã€‚

âœ…Â æ•°æ®å¯è§†åŒ–ï¼šå®æ—¶è¡¨æ ¼å±•ç¤ºæ£€æµ‹ç›®æ ‡çš„ç±»åˆ«ã€ç½®ä¿¡åº¦åŠåæ ‡ã€‚

âœ…æ™ºèƒ½å‚æ•°è°ƒèŠ‚ï¼šæä¾›ç½®ä¿¡åº¦æ»‘å—ï¼ŒåŠ¨æ€ä¼˜åŒ–æ£€æµ‹ç²¾åº¦ï¼Œé€‚åº”ä¸åŒåœºæ™¯éœ€æ±‚ã€‚

âœ…ç§‘å¹»é£äº¤äº’ç•Œé¢ï¼šæ·±è‰²ä¸»é¢˜æ­é…åŠ¨æ€å…‰æ•ˆï¼Œå‡å°‘è§†è§‰ç–²åŠ³ï¼Œæå‡æ“ä½œä½“éªŒã€‚

âœ…å¤šçº¿ç¨‹é«˜æ€§èƒ½æ¶æ„ï¼šç‹¬ç«‹æ£€æµ‹çº¿ç¨‹ä¿éšœæµç•…è¿è¡Œï¼Œå®æ—¶çŠ¶æ€æç¤ºï¼Œå“åº”è¿…é€Ÿæ— å¡é¡¿ã€‚

![](https://i-blog.csdnimg.cn/direct/f5553f76a1594cfb827f314652986beb.png)![](https://i-blog.csdnimg.cn/direct/25f813d7150547948372373bd734426f.png)![](https://i-blog.csdnimg.cn/direct/fe87b987d580408ba86be352de83e1f9.png)![](https://i-blog.csdnimg.cn/direct/7df2be115d1f4b6fb6864e5da3260856.png)

#### 2.1 ç”¨æˆ·ç™»å½•ç³»ç»Ÿ

*   æä¾›ç”¨æˆ·ç™»å½•å’Œæ³¨å†ŒåŠŸèƒ½
    
*   ç”¨æˆ·åå’Œå¯†ç éªŒè¯
    
*   è´¦æˆ·ä¿¡æ¯æœ¬åœ°å­˜å‚¨ (accounts.json)
    
*   å¯†ç é•¿åº¦è‡³å°‘ 6 ä½çš„å®‰å…¨è¦æ±‚
    

#### 2.2 æ£€æµ‹åŠŸèƒ½

*   **å›¾ç‰‡æ£€æµ‹**ï¼šæ”¯æŒ JPG/JPEG/PNG/BMP æ ¼å¼å›¾ç‰‡çš„ç«ç„°çƒŸé›¾æ£€æµ‹
    
*   **è§†é¢‘æ£€æµ‹**ï¼šæ”¯æŒ MP4/AVI/MOV æ ¼å¼è§†é¢‘çš„é€å¸§æ£€æµ‹
    
*   **æ‘„åƒå¤´æ£€æµ‹**ï¼šå®æ—¶æ‘„åƒå¤´æµæ£€æµ‹ (é»˜è®¤æ‘„åƒå¤´ 0)
    
*   æ£€æµ‹ç»“æœä¿å­˜åˆ° "results" ç›®å½•
    

#### 2.3 æ£€æµ‹ç»“æœæ˜¾ç¤º

*   æ˜¾ç¤ºåŸå§‹å›¾åƒå’Œæ£€æµ‹ç»“æœå›¾åƒ
    
*   æ£€æµ‹ç»“æœè¡¨æ ¼å±•ç¤ºï¼ŒåŒ…å«ï¼š
    
    *   æ£€æµ‹åˆ°çš„ç±»åˆ«
        
    *   ç½®ä¿¡åº¦åˆ†æ•°
        
    *   ç‰©ä½“ä½ç½®åæ ‡ (x,y)ã€
        

#### 2.4 å‚æ•°é…ç½®

*   æ¨¡å‹é€‰æ‹©
    
*   ç½®ä¿¡åº¦é˜ˆå€¼è°ƒèŠ‚ (0-1.0)
    
*   IoU(äº¤å¹¶æ¯”) é˜ˆå€¼è°ƒèŠ‚ (0-1.0)
    
*   å®æ—¶åŒæ­¥æ»‘å—å’Œæ•°å€¼è¾“å…¥æ¡†
    

#### 2.5 å…¶ä»–åŠŸèƒ½

*   æ£€æµ‹ç»“æœä¿å­˜åŠŸèƒ½
    
*   è§†é¢‘æ£€æµ‹æ—¶è‡ªåŠ¨ä¿å­˜ç»“æœè§†é¢‘
    
*   çŠ¶æ€æ æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€å’Œæœ€åæ›´æ–°æ—¶é—´
    
*   æ— è¾¹æ¡†çª—å£è®¾è®¡ï¼Œå¯æ‹–åŠ¨å’Œè°ƒæ•´å¤§å°
    

### 3. æŠ€æœ¯ç‰¹ç‚¹

*   é‡‡ç”¨å¤šçº¿ç¨‹å¤„ç†æ£€æµ‹ä»»åŠ¡ï¼Œé¿å…ç•Œé¢å¡é¡¿
    
*   ç²¾ç¾çš„ UI è®¾è®¡ï¼Œå…·æœ‰ç§‘æŠ€æ„Ÿçš„è§†è§‰æ•ˆæœï¼š
    
    *   å‘å…‰è¾¹æ¡†å’ŒæŒ‰é’®
        
    *   æ‚¬åœå’ŒæŒ‰ä¸‹çŠ¶æ€æ•ˆæœ
        
    *   è‡ªå®šä¹‰æ»‘å—ã€è¡¨æ ¼å’Œä¸‹æ‹‰æ¡†æ ·å¼
        
*   æ£€æµ‹ç»“æœä¿å­˜æœºåˆ¶
    
*   å“åº”å¼å¸ƒå±€ï¼Œé€‚åº”ä¸åŒçª—å£å¤§å°
    

### 4. ç³»ç»Ÿæµç¨‹

1.  ç”¨æˆ·ç™»å½• / æ³¨å†Œ
    
2.  é€‰æ‹©æ£€æµ‹æ¨¡å¼ (å›¾ç‰‡ / è§†é¢‘ / æ‘„åƒå¤´)
    
3.  è°ƒæ•´æ£€æµ‹å‚æ•° (å¯é€‰)
    
4.  å¼€å§‹æ£€æµ‹å¹¶æŸ¥çœ‹ç»“æœ
    
5.  å¯é€‰æ‹©ä¿å­˜æ£€æµ‹ç»“æœ
    
6.  åœæ­¢æ£€æµ‹æˆ–åˆ‡æ¢å…¶ä»–æ¨¡å¼
    

### ä¸‰ã€æ•°æ®é›†ä»‹ç»

æœ¬ç ”ç©¶çš„**æ°´æœåˆ†ç±»è¯†åˆ«æ£€æµ‹ç³»ç»Ÿ**é‡‡ç”¨**è‡ªå®šä¹‰ YOLO æ ¼å¼æ•°æ®é›†**ï¼Œå…±åŒ…å« **6 ç±»æ°´æœ**ï¼Œåˆ†åˆ«ä¸ºï¼š**é‡‘å† è‹¹æœï¼ˆgolden deliciousï¼‰ã€æ¾³æ´²é’è‹¹æœï¼ˆgranny smithï¼‰ã€æ¢¨ï¼ˆpearï¼‰ã€çº¢è›‡æœï¼ˆred deliciousï¼‰ã€çº¢æ²¹æ¡ƒï¼ˆred nectarineï¼‰å’Œé»„æ¡ƒï¼ˆyellow peachï¼‰**ã€‚

##### **1. æ•°æ®é›†ç»„æˆ**

*   **è®­ç»ƒé›†ï¼ˆTraining Setï¼‰**ï¼š**5,481 å¼ å›¾åƒ**
    
*   **éªŒè¯é›†ï¼ˆValidation Setï¼‰**ï¼š**263 å¼ å›¾åƒ**
    

#### æ•°æ®é›†é…ç½®æ–‡ä»¶

æ•°æ®é›†é‡‡ç”¨æ ‡å‡†åŒ– YOLO æ ¼å¼ç»„ç»‡ï¼š

```
train: F:\æ°´æœåˆ†ç±»æ£€æµ‹æ•°æ®é›†\æ°´æœåˆ†ç±»æ£€æµ‹æ•°æ®é›†\images\train
val: F:\æ°´æœåˆ†ç±»æ£€æµ‹æ•°æ®é›†\æ°´æœåˆ†ç±»æ£€æµ‹æ•°æ®é›†\images\val
test: # test images (optional)
 
nc: 6
names: ['golden delicious', 'granny smith', 'pear', 'red delicious', 'red nectarine', 'yellow peach']
 
```

![](https://i-blog.csdnimg.cn/direct/86d78f2b47844e799658d396f8e6c1a7.png)![](https://i-blog.csdnimg.cn/direct/50300f0dbe014b4eba5a54bc6fc33651.png)![](https://i-blog.csdnimg.cn/direct/7594d52a742c4a8c97a7216181c1970e.png)![](https://i-blog.csdnimg.cn/direct/44e43117f16f4a98b0ce8d6238cece60.jpeg)![](https://i-blog.csdnimg.cn/direct/48940b9489c64d7080f1bd5a30f68914.jpeg)![](https://i-blog.csdnimg.cn/direct/1fa5a415aca34d3e9919c3044e108423.jpeg)![](https://i-blog.csdnimg.cn/direct/fc249069ae3d4586bf14458654476f2f.jpeg)

### å››ã€é¡¹ç›®ç¯å¢ƒé…ç½®

#### åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

é¦–å…ˆæ–°å»ºä¸€ä¸ª Anaconda ç¯å¢ƒï¼Œæ¯ä¸ªé¡¹ç›®ç”¨ä¸åŒçš„ç¯å¢ƒï¼Œè¿™æ ·é¡¹ç›®ä¸­æ‰€ç”¨çš„ä¾èµ–åŒ…äº’ä¸å¹²æ‰°ã€‚

ç»ˆç«¯è¾“å…¥

conda create -n yolov11 python==3.9

![](https://i-blog.csdnimg.cn/direct/7893743e43a141919e03c53b4fca7a96.png)

**æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ**

conda activate yolov11  
Â 

![](https://i-blog.csdnimg.cn/direct/23c4f03220b3401c9831ee11903e96a6.png)

**å®‰è£… cpu ç‰ˆæœ¬ pytorch**

```
pip install torch torchvision torchaudio

```

![](https://i-blog.csdnimg.cn/direct/d05699a50fe14d5dbaa96ca8c40fb191.png)

#### **å®‰è£…æ‰€éœ€è¦åº“**

pip install -r requirements.txt

**pycharm ä¸­é…ç½® anaconda**

![](https://i-blog.csdnimg.cn/direct/cd0723a7a34645d5ba34e4a1cb89def7.png)

![](https://i-blog.csdnimg.cn/direct/486596de6b324e36a2eb77d787f64605.png)

### äº”ã€æ¨¡å‹è®­ç»ƒ

#### è®­ç»ƒä»£ç 

```
from ultralytics import YOLO
 
model_path = 'yolo11s.pt'
data_path = 'data.yaml'
 
if __name__ == '__main__':
    model = YOLO(model_path)
    results = model.train(data=data_path,
                          epochs=100,
                          batch=8,
                          device='0',
                          workers=0,
                          project='runs',
                          name='exp',
                          )
```

```
æ ¹æ®å®é™…æƒ…å†µæ›´æ¢æ¨¡å‹
# yolov11n.yaml (nano)ï¼šè½»é‡åŒ–æ¨¡å‹ï¼Œé€‚åˆåµŒå…¥å¼è®¾å¤‡ï¼Œé€Ÿåº¦å¿«ä½†ç²¾åº¦ç•¥ä½ã€‚
# yolov11s.yaml (small)ï¼šå°æ¨¡å‹ï¼Œé€‚åˆå®æ—¶ä»»åŠ¡ã€‚
# yolov11m.yaml (medium)ï¼šä¸­ç­‰å¤§å°æ¨¡å‹ï¼Œå…¼é¡¾é€Ÿåº¦å’Œç²¾åº¦ã€‚
# yolov11b.yaml (base)ï¼šåŸºæœ¬ç‰ˆæ¨¡å‹ï¼Œé€‚åˆå¤§éƒ¨åˆ†åº”ç”¨åœºæ™¯ã€‚
# yolov11l.yaml (large)ï¼šå¤§å‹æ¨¡å‹ï¼Œé€‚åˆå¯¹ç²¾åº¦è¦æ±‚é«˜çš„ä»»åŠ¡ã€‚

```

*   `--batch 8`ï¼šæ¯æ‰¹æ¬¡ 8 å¼ å›¾åƒã€‚
*   `--epochs 100`ï¼šè®­ç»ƒ 100 è½®ã€‚
*   `--datasets/data.yaml`ï¼šæ•°æ®é›†é…ç½®æ–‡ä»¶ã€‚
*   `--weights yolov11s.pt`ï¼šåˆå§‹åŒ–æ¨¡å‹æƒé‡ï¼Œ`yolov11s.pt` æ˜¯é¢„è®­ç»ƒçš„è½»é‡çº§ YOLO æ¨¡å‹ã€‚

#### è®­ç»ƒç»“æœ

![](https://i-blog.csdnimg.cn/direct/1c9f8b8267f1430984e0d9464e2d23cb.png)

![](https://i-blog.csdnimg.cn/direct/581a4f1449f74141823dcdb4e5ccf615.png)

![](https://i-blog.csdnimg.cn/direct/03be53bf3add40d3a741bb26901495e5.png)

![](https://i-blog.csdnimg.cn/direct/71704b58365f4aef88ddac82f9625bde.png)

![](https://i-blog.csdnimg.cn/direct/56faff5cb7f7411cb24008993a192e1d.png)![](https://i-blog.csdnimg.cn/direct/fe351c43b55d41e9a323879610282640.png)![](https://i-blog.csdnimg.cn/direct/efda7e2e4d1c4698a83d336b576d5d48.png)![](https://i-blog.csdnimg.cn/direct/1ed2922c54df4a6a9c862f5ce4f79a18.png)![](https://i-blog.csdnimg.cn/direct/083e3eec40ce409c85df3f6236a03b4c.png)![](https://i-blog.csdnimg.cn/direct/bea5ec3ff5a747949fa437f39c49adbb.jpeg)

![](https://i-blog.csdnimg.cn/direct/992f0e3afb21473a87fcf10ddd752e43.jpeg)

### å…­ã€æ ¸å¿ƒä»£ç 

![](https://i-blog.csdnimg.cn/direct/fd481eda5efa4061bf9b4f1c7370d44d.png)

```
import sys
 
import cv2
import numpy as np
from PyQt5.QtWidgets import QApplication, QMessageBox, QFileDialog
from PyQt5.QtCore import QThread, pyqtSignal
from ultralytics import YOLO
from UiMain import UiMainWindow
import time
import os
from PyQt5.QtWidgets import QDialog
from LoginWindow import LoginWindow
 
class DetectionThread(QThread):
    frame_received = pyqtSignal(np.ndarray, np.ndarray, list)  # åŸå§‹å¸§, æ£€æµ‹å¸§, æ£€æµ‹ç»“æœ
    finished_signal = pyqtSignal()  # çº¿ç¨‹å®Œæˆä¿¡å·
 
    def __init__(self, model, source, conf, iou, parent=None):
        super().__init__(parent)
        self.model = model
        self.source = source
        self.conf = conf
        self.iou = iou
        self.running = True
 
    def run(self):
        try:
            if isinstance(self.source, int) or self.source.endswith(('.mp4', '.avi', '.mov')):  # è§†é¢‘æˆ–æ‘„åƒå¤´
                cap = cv2.VideoCapture(self.source)
                while self.running and cap.isOpened():
                    ret, frame = cap.read()
                    if not ret:
                        break
 
                    # ä¿å­˜åŸå§‹å¸§
                    original_frame = frame.copy()
 
                    # æ£€æµ‹
                    results = self.model(frame, conf=self.conf, iou=self.iou)
                    annotated_frame = results[0].plot()
 
                    # æå–æ£€æµ‹ç»“æœ
                    detections = []
                    for result in results:
                        for box in result.boxes:
                            class_id = int(box.cls)
                            class_name = self.model.names[class_id]
                            confidence = float(box.conf)
                            x, y, w, h = box.xywh[0].tolist()
                            detections.append((class_name, confidence, x, y))
 
                    # å‘é€ä¿¡å·
                    self.frame_received.emit(
                        cv2.cvtColor(original_frame, cv2.COLOR_BGR2RGB),
                        cv2.cvtColor(annotated_frame, cv2.COLOR_BGR2RGB),
                        detections
                    )
 
                    # æ§åˆ¶å¸§ç‡
                    time.sleep(0.03)  # çº¦30fps
 
                cap.release()
            else:  # å›¾ç‰‡
                frame = cv2.imread(self.source)
                if frame is not None:
                    original_frame = frame.copy()
                    results = self.model(frame, conf=self.conf, iou=self.iou)
                    annotated_frame = results[0].plot()
 
                    # æå–æ£€æµ‹ç»“æœ
                    detections = []
                    for result in results:
                        for box in result.boxes:
                            class_id = int(box.cls)
                            class_name = self.model.names[class_id]
                            confidence = float(box.conf)
                            x, y, w, h = box.xywh[0].tolist()
                            detections.append((class_name, confidence, x, y))
 
                    self.frame_received.emit(
                        cv2.cvtColor(original_frame, cv2.COLOR_BGR2RGB),
                        cv2.cvtColor(annotated_frame, cv2.COLOR_BGR2RGB),
                        detections
                    )
 
        except Exception as e:
            print(f"Detection error: {e}")
        finally:
            self.finished_signal.emit()
 
    def stop(self):
        self.running = False
 
 
class MainWindow(UiMainWindow):
    def __init__(self):
        super().__init__()
 
        # åˆå§‹åŒ–æ¨¡å‹
        self.model = None
        self.detection_thread = None
        self.current_image = None
        self.current_result = None
        self.video_writer = None
        self.is_camera_running = False
        self.is_video_running = False
        self.last_detection_result = None  # æ–°å¢ï¼šä¿å­˜æœ€åä¸€æ¬¡æ£€æµ‹ç»“æœ
 
        # è¿æ¥æŒ‰é’®ä¿¡å·
        self.image_btn.clicked.connect(self.detect_image)
        self.video_btn.clicked.connect(self.detect_video)
        self.camera_btn.clicked.connect(self.detect_camera)
        self.stop_btn.clicked.connect(self.stop_detection)
        self.save_btn.clicked.connect(self.save_result)
 
        # åˆå§‹åŒ–æ¨¡å‹
        self.load_model()
 
    def load_model(self):
        try:
            model_name = self.model_combo.currentText()
            self.model = YOLO(f"{model_name}.pt")  # è‡ªåŠ¨ä¸‹è½½æˆ–åŠ è½½æœ¬åœ°æ¨¡å‹
            self.update_status(f"æ¨¡å‹ {model_name} åŠ è½½æˆåŠŸ")
        except Exception as e:
            QMessageBox.critical(self, "é”™è¯¯", f"æ¨¡å‹åŠ è½½å¤±è´¥: {str(e)}")
            self.update_status("æ¨¡å‹åŠ è½½å¤±è´¥")
 
    def detect_image(self):
        if self.detection_thread and self.detection_thread.isRunning():
            QMessageBox.warning(self, "è­¦å‘Š", "è¯·å…ˆåœæ­¢å½“å‰æ£€æµ‹ä»»åŠ¡")
            return
 
        file_path, _ = QFileDialog.getOpenFileName(
            self, "é€‰æ‹©å›¾ç‰‡", "", "å›¾ç‰‡æ–‡ä»¶ (*.jpg *.jpeg *.png *.bmp)")
 
        if file_path:
            self.clear_results()
            self.current_image = cv2.imread(file_path)
            self.current_image = cv2.cvtColor(self.current_image, cv2.COLOR_BGR2RGB)
            self.display_image(self.original_image_label, self.current_image)
 
            # åˆ›å»ºæ£€æµ‹çº¿ç¨‹
            conf = self.confidence_spinbox.value()
            iou = self.iou_spinbox.value()
            self.detection_thread = DetectionThread(self.model, file_path, conf, iou)
            self.detection_thread.frame_received.connect(self.on_frame_received)
            self.detection_thread.finished_signal.connect(self.on_detection_finished)
            self.detection_thread.start()
 
            self.update_status(f"æ­£åœ¨æ£€æµ‹å›¾ç‰‡: {os.path.basename(file_path)}")
 
    def detect_video(self):
        if self.detection_thread and self.detection_thread.isRunning():
            QMessageBox.warning(self, "è­¦å‘Š", "è¯·å…ˆåœæ­¢å½“å‰æ£€æµ‹ä»»åŠ¡")
            return
 
        file_path, _ = QFileDialog.getOpenFileName(
            self, "é€‰æ‹©è§†é¢‘", "", "è§†é¢‘æ–‡ä»¶ (*.mp4 *.avi *.mov)")
 
        if file_path:
            self.clear_results()
            self.is_video_running = True
 
            # åˆå§‹åŒ–è§†é¢‘å†™å…¥å™¨
            cap = cv2.VideoCapture(file_path)
            frame_width = int(cap.get(cv2.CAP_PROP_FRAME_WIDTH))
            frame_height = int(cap.get(cv2.CAP_PROP_FRAME_HEIGHT))
            fps = cap.get(cv2.CAP_PROP_FPS)
            cap.release()
 
            # åˆ›å»ºä¿å­˜è·¯å¾„
            save_dir = "results"
            os.makedirs(save_dir, exist_ok=True)
            timestamp = time.strftime("%Y%m%d_%H%M%S")
            save_path = os.path.join(save_dir, f"result_{timestamp}.mp4")
 
            fourcc = cv2.VideoWriter_fourcc(*'mp4v')
            self.video_writer = cv2.VideoWriter(save_path, fourcc, fps, (frame_width, frame_height))
 
            # åˆ›å»ºæ£€æµ‹çº¿ç¨‹
            conf = self.confidence_spinbox.value()
            iou = self.iou_spinbox.value()
            self.detection_thread = DetectionThread(self.model, file_path, conf, iou)
            self.detection_thread.frame_received.connect(self.on_frame_received)
            self.detection_thread.finished_signal.connect(self.on_detection_finished)
            self.detection_thread.start()
 
            self.update_status(f"æ­£åœ¨æ£€æµ‹è§†é¢‘: {os.path.basename(file_path)}")
 
    def detect_camera(self):
        if self.detection_thread and self.detection_thread.isRunning():
            QMessageBox.warning(self, "è­¦å‘Š", "è¯·å…ˆåœæ­¢å½“å‰æ£€æµ‹ä»»åŠ¡")
            return
 
        self.clear_results()
        self.is_camera_running = True
 
        # åˆ›å»ºæ£€æµ‹çº¿ç¨‹ (é»˜è®¤ä½¿ç”¨æ‘„åƒå¤´0)
        conf = self.confidence_spinbox.value()
        iou = self.iou_spinbox.value()
        self.detection_thread = DetectionThread(self.model, 0, conf, iou)
        self.detection_thread.frame_received.connect(self.on_frame_received)
        self.detection_thread.finished_signal.connect(self.on_detection_finished)
        self.detection_thread.start()
 
        self.update_status("æ­£åœ¨ä»æ‘„åƒå¤´æ£€æµ‹...")
```

#### ğŸ”ç™»å½•æ³¨å†ŒéªŒè¯

å¯¹åº”æ–‡ä»¶ï¼š`LoginWindow.py`

```
# è´¦æˆ·éªŒè¯æ ¸å¿ƒé€»è¾‘
def handle_login(self):
    username = self.username_input.text().strip()
    password = self.password_input.text().strip()
    
    if not username or not password:
        QMessageBox.warning(self, "è­¦å‘Š", "ç”¨æˆ·åå’Œå¯†ç ä¸èƒ½ä¸ºç©ºï¼")
        return
    
    if username in self.accounts and self.accounts[username] == password:
        self.accept()  # éªŒè¯é€šè¿‡
    else:
        QMessageBox.warning(self, "é”™è¯¯", "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼")
 
# å¯†ç å¼ºåº¦æ£€æŸ¥ï¼ˆæ³¨å†Œæ—¶ï¼‰
def handle_register(self):
    if len(password) < 6:  # å¯†ç é•¿åº¦â‰¥6ä½
        QMessageBox.warning(self, "è­¦å‘Š", "å¯†ç é•¿åº¦è‡³å°‘ä¸º6ä½ï¼")
```

#### ğŸ¯Â **å¤šé‡æ£€æµ‹æ¨¡å¼**

å¯¹åº”æ–‡ä»¶ï¼š`main.py`

å›¾ç‰‡æ£€æµ‹

```
def detect_image(self):
    file_path, _ = QFileDialog.getOpenFileName(
        self, "é€‰æ‹©å›¾ç‰‡", "", "å›¾ç‰‡æ–‡ä»¶ (*.jpg *.jpeg *.png *.bmp)")
    if file_path:
        self.detection_thread = DetectionThread(self.model, file_path, conf, iou)
        self.detection_thread.start()  # å¯åŠ¨æ£€æµ‹çº¿ç¨‹
```

è§†é¢‘æ£€æµ‹

```
def detect_video(self):
    file_path, _ = QFileDialog.getOpenFileName(
        self, "é€‰æ‹©è§†é¢‘", "", "è§†é¢‘æ–‡ä»¶ (*.mp4 *.avi *.mov)")
    if file_path:
        self.video_writer = cv2.VideoWriter()  # åˆå§‹åŒ–è§†é¢‘å†™å…¥å™¨
        self.detection_thread = DetectionThread(self.model, file_path, conf, iou)
```

å®æ—¶æ‘„åƒå¤´

```
def detect_camera(self):
    self.detection_thread = DetectionThread(self.model, 0, conf, iou)  # æ‘„åƒå¤´è®¾å¤‡å·0
    self.detection_thread.start()
```

#### ğŸ–¼ï¸Â **æ²‰æµ¸å¼å¯è§†åŒ–**

å¯¹åº”æ–‡ä»¶ï¼š`UiMain.py`

åŒç”»é¢æ˜¾ç¤º

```
def display_image(self, label, image):
    q_img = QImage(image.data, w, h, bytes_per_line, QImage.Format_RGB888)
    pixmap = QPixmap.fromImage(q_img)
    label.setPixmap(pixmap.scaled(label.size(), Qt.KeepAspectRatio))  # è‡ªé€‚åº”ç¼©æ”¾
```

ç»“æœè¡¨æ ¼

```
def add_detection_result(self, class_name, confidence, x, y):
    self.results_table.insertRow(row)
    items = [
        QTableWidgetItem(class_name),  # ç±»åˆ«åˆ—
        QTableWidgetItem(f"{confidence:.2f}"),  # ç½®ä¿¡åº¦
        QTableWidgetItem(f"{x:.1f}"),  # Xåæ ‡
        QTableWidgetItem(f"{y:.1f}")   # Yåæ ‡
    ]
```

#### âš™ï¸Â **å‚æ•°é…ç½®ç³»ç»Ÿ**

å¯¹åº”æ–‡ä»¶ï¼š`UiMain.py`

åŒé˜ˆå€¼è”åŠ¨æ§åˆ¶

```
# ç½®ä¿¡åº¦é˜ˆå€¼åŒæ­¥
def update_confidence(self, value):
    confidence = value / 100.0
    self.confidence_spinbox.setValue(confidence)  # æ»‘å—â†’æ•°å€¼æ¡†
    self.confidence_label.setText(f"ç½®ä¿¡åº¦é˜ˆå€¼: {confidence:.2f}")
 
# IoUé˜ˆå€¼åŒæ­¥  
def update_iou(self, value):
    iou = value / 100.0
    self.iou_spinbox.setValue(iou)
```

#### âœ¨Â **UI ç¾å­¦è®¾è®¡**

å¯¹åº”æ–‡ä»¶ï¼š`UiMain.py`

ç§‘å¹»é£æ ¼æŒ‰é’®

```
def create_button(self, text, color):
    return f"""
    QPushButton {{
        border: 1px solid {color};
        color: {color};
        border-radius: 6px;
    }}
    QPushButton:hover {{
        background-color: {self.lighten_color(color, 10)};
        box-shadow: 0 0 10px {color};  # æ‚¬åœå‘å…‰æ•ˆæœ
    }}
    """
```

åŠ¨æ€çŠ¶æ€æ 

```
def update_status(self, message):
    self.status_bar.showMessage(
        f"çŠ¶æ€: {message} | æœ€åæ›´æ–°: {time.strftime('%H:%M:%S')}"  # å®æ—¶æ—¶é—´æˆ³
    )
```

#### ğŸ”„Â **æ™ºèƒ½å·¥ä½œæµ**

å¯¹åº”æ–‡ä»¶ï¼š`main.py`

çº¿ç¨‹ç®¡ç†

```
class DetectionThread(QThread):
    frame_received = pyqtSignal(np.ndarray, np.ndarray, list)  # ä¿¡å·é‡é€šä¿¡
    
    def run(self):
        while self.running:  # å¤šçº¿ç¨‹æ£€æµ‹å¾ªç¯
            results = self.model(frame, conf=self.conf, iou=self.iou)
            self.frame_received.emit(original_frame, result_frame, detections)
```

**`ä¸ƒã€é¡¹ç›®æºç ï¼ˆè§†é¢‘ç®€ä»‹ï¼‰`**
------------------

![](https://i-blog.csdnimg.cn/direct/917765c744d64f64ba56d0f177798e63.png)

![](https://i-blog.csdnimg.cn/direct/dc91a18345fc4f4a9dac5530a019acff.jpeg)

[åŸºäºæ·±åº¦å­¦ä¹  YOLOv11 çš„æ°´æœåˆ†ç±»è¯†åˆ«æ£€æµ‹ç³»ç»Ÿï¼ˆYOLOv11+YOLO æ•°æ®é›† + UI ç•Œé¢ + ç™»å½•æ³¨å†Œç•Œé¢ + Python é¡¹ç›®æºç  + æ¨¡å‹ï¼‰_å“”å“©å“”å“©_bilibili](https://www.bilibili.com/video/BV1c8bzzME6D?spm_id_from=333.788.videopod.sections&vd_source=549d0b4e2b8999929a61a037fcce3b0f "åŸºäºæ·±åº¦å­¦ä¹ YOLOv11çš„æ°´æœåˆ†ç±»è¯†åˆ«æ£€æµ‹ç³»ç»Ÿï¼ˆYOLOv11+YOLOæ•°æ®é›†+UIç•Œé¢+ç™»å½•æ³¨å†Œç•Œé¢+Pythoné¡¹ç›®æºç +æ¨¡å‹ï¼‰_å“”å“©å“”å“©_bilibili")

åŸºäºæ·±åº¦å­¦ä¹  YOLOv11 çš„æ°´æœåˆ†ç±»è¯†åˆ«æ£€æµ‹ç³»ç»Ÿï¼ˆYOLOv11+YOLO æ•°æ®é›† + UI ç•Œé¢ + ç™»å½•æ³¨å†Œç•Œé¢ + Python é¡¹ç›®æºç  + æ¨¡å‹ï¼‰